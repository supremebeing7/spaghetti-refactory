---
layout: post
title: How to make a ruby executable file
date: '2015-01-28T14:19:00.000-08:00'
author: Mark J. Lehman
tags:
- ruby
- bash
- executable
modified_time: '2015-08-21T22:57:12.371-07:00'
blogger_id: tag:blogger.com,1999:blog-4459370175540830177.post-4164982011989154833
blogger_orig_url: http://spaghettirefactory.blogspot.com/2015/01/how-to-make-ruby-executable-file.html
---

<i>Thanks to <a href="http://commandercoriander.net/blog/2013/02/16/making-a-ruby-script-executable/">Commander Coriander</a> for this next bit. I have "borrowed" heavily from the guide there.</i><br /><h3>How to make a ruby executable file, a fairly major step in gem creation</h3>First, create a Ruby script that will display something. Doesn't matter what, we just need to be able to test that the final executable is working. Let's call our program "<code>awesome_sauce.rb</code>" <br /><br />Next, instead of having to type <code>ruby awesome_sauce.rb</code> to run our script, let's get it so we can just type <code>awesome_sauce.rb</code> and it infers that we want to use Ruby to run it. To do that, we just need to add the following to the very top of our script: <br /><br /><pre><code>  #!/usr/bin/env ruby</code></pre><br />This is called a "Bash directive" and it tells Bash what program to run our file with by asking for the current configured version of Ruby as specified by the env command. Check out <code>man env</code> for more info on how env works, but essentially, it will use whatever version of Ruby that's configured in your shell session. To find out which Ruby version that is, just run <code>ruby -v</code><br /><br />Now we need to make our script executable, so we have to give the file an execute permission. Wikipedia is great for reading all about file permissions for the uninitiated (http://en.wikipedia.org/wiki/File_permissions#Traditional_Unix_permissions). Doing that is just a simple Bash command. Assuming you're already in the same directory as your Ruby script, run this command to add execute permissions: <br /><br /><pre><code>  chmod 755 awesome_sauce.rb<br /></code></pre><br />We're going to add execute permissions which will appear as an x in that line. If you check the file permissions by running <code>ls -l awesome_sauce.rb</code>, the output should be something like this:<br /><br /><pre><code>  -rwxr-xr-x  1 username  staff     28 Jan  14:02 awesome_sauce.rb<br /></code></pre><br />The 'x' as the fourth character tells us that the file can be run directly without calling Ruby first. The following command should get our script to run:<br /><br /><pre><code>  ./awesome_sauce.rb</code></pre><br />It's now an executable! All that's left is cleanup, i.e. removing the prefix <code>./</code> and the suffix <code>.rb</code>. The suffix part is easy - just rename your file to <code>awesome_sauce</code>. I still do file renaming with the GUI, but here's how you can do it command-line-ninja style: <br /><br /><pre><code>  mv awesome_sauce.rb awesome_sauce</code></pre><br />Finally, to remove that prefix <code>./</code>. The reason that is there is because every time we call a Bash program, Bash searches through a predefined list of folders looking for those programs, called the path. Your path is stored as an environment variable on your computer, and can be seen by running:<br /><br /><pre><code>  echo $PATH</code></pre><br />The output should be a long string of various system-critical folders, separated by colons. The one we're looking for is <code>/usr/local/bin/</code>, which is where any user additions should go. If that folder doesn't exist, create it:<br /><br /><pre><code>  mkdir -p /usr/local/bin/</code></pre><br />Now, rather than actually moving our program, let's instead create a symlink (also known as softlink or alias) within the /usr/local/bin/ folder. (To read more about symlinks, short for Symbolic link, <a href="http://en.wikipedia.org/wiki/Symbolic_link">Wikipedia is your friend</a>.) To create a symlink, make sure you're still in the same directory as your <code>awesome_sauce</code> and use the ln command:<br /><br /><pre><code>  ln -s $PWD/awesome_sauce /usr/local/bin/<br /></code></pre><br />The $PWD variable will expand to an absolute path to our delicious <code>awesome_sauce</code>.<br /><br />And you're done! You've now got a fully executable <code>awesome_sauce</code> Ruby script. Pretty slick, friendo.
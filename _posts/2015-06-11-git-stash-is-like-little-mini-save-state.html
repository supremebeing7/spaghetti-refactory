---
layout: post
title: Git stash is like a little mini save state
date: '2015-06-11T10:59:00.000-07:00'
author: Mark J. Lehman
tags:
- git
modified_time: '2015-08-21T11:00:15.931-07:00'
blogger_id: tag:blogger.com,1999:blog-4459370175540830177.post-8911856777929290857
blogger_orig_url: http://spaghettirefactory.blogspot.com/2015/06/git-stash-is-like-little-mini-save-state.html
---

I’ve used this so many times and it has probably saved me all kinds of time, so I wanted to share.<br /><br />Say you’ve just done a bunch of work on a new feature, modified 12 different files, and you haven’t committed anything yet. First of all:<br /><br /><a href="https://imgflip.com/i/pvlmx"><img src="https://i.imgflip.com/pvlmx.jpg" title="made at imgflip.com" /></a><br /><br />But I know we’ve all done that. Now let’s say that you did all this on the wrong branch by accident. Sometimes git will let you switch branches without committing and take your work with you. I don’t know the hard and fast rules on how that works, and it seems to never work that way when I want it to.<br /><br />If all of the work was in one file, it’d be simple enough to do some copypasta into the file on a new branch. Since we have workin a bunch of different files, that’s a no go.<br /><br />Luckily, git gives us something called <code>git stash</code>.<br /><br />Run <code>git stash</code> on all of your uncommitted work, and it will save it to a stash on your system. You can then shift to your new branch, and retrieve the stash by running <code>git stash apply</code>. Pretty cool!<br /><br />Now let’s say you got yourself into a REAL mess. Let’s say that you did a bunch of work on the wrong branch, so you <code>git stash</code>-ed it, but you didn’t apply that stash to the correct branch. Then let’s say you got hungry and decided it was <a href="https://youtu.be/Z3ZAGBL6UBA">peanut butter jelly time</a>. Then say you came back from lunch and did a bunch more work on the wrong branch.<br /><br />You can <code>git stash</code> that work too, but when you go to apply all of your work (both stashes), it only applies the most recent. What happened to the first stash you made?<br /><br />It’s still saved, but to access it, you have to run <code>git stash list</code>. This will show all of your stashes with the branch name where they were stashed from, and the most recent comment at the time of stashing. For example:<br /><pre><code><br /></code></pre><pre><code>stash@{0}: WIP on damn_the_torpedoes: 240228e Merge pull request #384 from supremebeing7/jam_radar<br />stash@{1}: WIP on fix_thrusters: 7ed822 Merge pull request #383 from supremebeing7/add_lasers<br /></code></pre><br />To apply a particular stash, get the stash key (the <code>stash@{x}</code> at the beginning of the line) and run <code>git stash apply {stash_key}</code>. For example, if I want the work that I stashed on my <code>fix_thrusters</code> branch, I should run<br /><pre><code><br /></code></pre><pre><code>git stash apply stash@{1}<br /></code></pre><br />Hopefully you get as much utility out of this as I have.